# this is where we define the api for querying our data
# this is different than the prisma.graphql file in that
# that file defines everything that can possibly be queryed
# and is automatically generated by prisma upon deploy
# while this file more narrowlly defines what we are exposing
# for use by this app and is something we create and edit

# the actuall implementation of these mutations and queries
# is set up in two separate files, "Mutations.js" and "Query.js".
# however, the signature of the mutations and queries here must
# matched in the other two files.

# The below comment is actually a Prisma feature that allows
# us to import things from the generated prisma model file
# so that we don't have to redefine them here

# import * from './generated/prisma.graphql'

# This is a custom type used by the signout mutation
# It is custom in that it does not exist in the prisma.graphql generated schema
type SuccessMessage {
    message: String
}

type Mutation {
    createItem(title: String, description: String, price: Int, image: String, largeImage: String): Item!
    updateItem(id: ID, title: String, description: String, price: Int): Item!
    deleteItem(id: ID!): Item
    signup(email: String!, password: String!, name: String!): User!
    signin(email: String!, password: String!): User!
    signout: SuccessMessage
}

type Query {
    items(where: ItemWhereInput, orderBy: ItemOrderByInput, skip: Int, first: Int): [Item]!
    # the ItemWhereUniqueInput type below was auto generated
    # by prisma and so we're just using it to maintain
    # consistency between this schema and that one
    item(where: ItemWhereUniqueInput!): Item
    itemsConnection(where: ItemWhereInput): ItemConnection!
    me: User
}